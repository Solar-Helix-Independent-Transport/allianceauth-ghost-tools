(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{217:function(e,t,r){},218:function(e,t,r){},260:function(e,t,r){},261:function(e,t,r){"use strict";r.r(t);var n=r(273),a=r(144),c=r(0),s=r.n(c),i=r(14),l=r(51),o=r(140),u=r(39),j=r(275),d=r(56),b=r(93),h=r(76),p=r.n(h),x=r(137),O=r.n(x);function f(){return(f=Object(b.a)(Object(d.a)().mark((function e(){var t;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get("/ghosts/api/ghost/list");case 2:return t=e.sent,console.log("get structure list in api"),console.log(t),e.abrupt("return",t.data);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(){return(g=Object(b.a)(Object(d.a)().mark((function e(t){var r;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("sent open request ".concat(t)),e.next=3,p.a.post("/ghosts/api/ghost/kick?character_id=".concat(t),{character_id:t},{headers:{"X-CSRFToken":O.a.getItem("csrftoken")}});case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}p.a.defaults.xsrfHeaderName="X-CSRFToken";var m=r(75),v=r(2),y=function(){return Object(v.jsx)(j.a.Body,{className:"flex-container",children:Object(v.jsx)(m.a,{className:"spinner-size"})})},w=r(55),S=r(13),C=r(268),F=r(277),P=r(40),k=r(92),H=r(269),N=r(270),L=r(271),z=r(276),R=r(272),D=(r(217),r(218),function(){return Object(v.jsx)(j.a.Body,{className:"flex-container",children:Object(v.jsxs)("div",{className:"text-center",children:[Object(v.jsx)("div",{className:"error-size bottom-text",children:Object(v.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100",height:"100",fill:"currentColor",class:"bi bi-exclamation-triangle error-anim",viewBox:"0 0 16 16",children:[Object(v.jsx)("path",{d:"M7.938 2.016A.13.13 0 0 1 8.002 2a.13.13 0 0 1 .063.016.146.146 0 0 1 .054.057l6.857 11.667c.036.06.035.124.002.183a.163.163 0 0 1-.054.06.116.116 0 0 1-.066.017H1.146a.115.115 0 0 1-.066-.017.163.163 0 0 1-.054-.06.176.176 0 0 1 .002-.183L7.884 2.073a.147.147 0 0 1 .054-.057zm1.044-.45a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767L8.982 1.566z"}),Object(v.jsx)("path",{d:"M7.002 12a1 1 0 1 1 2 0 1 1 0 0 1-2 0zM7.1 5.995a.905.905 0 1 1 1.8 0l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 5.995z"})]})}),Object(v.jsx)("h3",{className:"text-margin",children:"Error Loading Component"})]})})});var B={option:function(e){return Object(S.a)(Object(S.a)({},e),{},{color:"black"})}};function M(e){var t=e.message;return Object(v.jsx)(C.a,{id:"character_tooltip",children:t})}function T(e){var t=e.column;t.filterValue,t.preFilteredRows,t.setFilter;return Object(v.jsx)(v.Fragment,{})}function A(e){var t=e.column,r=t.filterValue,n=t.preFilteredRows,a=t.setFilter,c=n.length;return Object(v.jsx)("input",{className:"form-control",value:r||"",onChange:function(e){a(e.target.value||void 0)},placeholder:"Search ".concat(c," records...")})}function E(e){var t=e.column,r=t.setFilter,n=t.filterValue,a=t.preFilteredRows,c=t.id,i=s.a.useMemo((function(){var e=new Set;return a?(a.forEach((function(t){null!==t.values[c]&&("object"===typeof t.values[c]?e.add(t.values[c].name):e.add(t.values[c]))})),Object(w.a)(e.values())):[]}),[c,a]);return Object(v.jsx)(k.a,{title:n,onChange:function(e){return r(e.value)},value:{label:n||"All"},defaultValue:{label:"All"},styles:B,options:[{id:-1,value:"",label:"All"}].concat(i.map((function(e,t){return{id:t,value:e,label:e}})))},n)}var _=function(){return{}};var V=function(e){var t=e.isLoading,r=e.isFetching,n=e.data,a=e.error,c=e.columns,i=e.asyncExpandFunction,l=e.getRowProps,j=void 0===l?_:l,d=s.a.useMemo((function(){return{Filter:T}}),[]),b=s.a.useMemo((function(){return{text:function(e,t,r){return e.filter((function(e){return t.some((function(t){if(r){var n=e.values[t];return"object"===typeof n&&(n=n.name),e.hasOwnProperty("originalSubRows")&&(n+=e.originalSubRows.reduce((function(e,r){return e+" "+(n=r,t.split(".").reduce((function(e,t){return e[t]}),n));var n}),"")),!!n&&n.toLowerCase().includes(r.toLowerCase())}return!0}))}))}}}),[]),h=Object(P.useTable)({columns:c,data:n,defaultColumn:d,filterTypes:b,initialState:{pageSize:20}},P.useFilters,P.useSortBy,P.useExpanded,P.usePagination),p=h.getTableProps,x=h.getTableBodyProps,O=h.headerGroups,f=h.page,g=h.prepareRow,y=h.canPreviousPage,w=h.canNextPage,C=h.pageOptions,k=h.pageCount,B=h.gotoPage,A=h.nextPage,E=h.previousPage,V=h.setPageSize,G=h.visibleColumns,I=h.state,J=I.pageIndex,Q=I.pageSize;return t?Object(v.jsx)("div",{className:"col-xs-12 text-center",children:Object(v.jsx)(m.a,{className:"spinner-size"})}):a?Object(v.jsx)(D,{}):Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)(H.a,{striped:!0,children:[Object(v.jsxs)("thead",Object(S.a)(Object(S.a)({},p()),{},{children:[O.map((function(e){return Object(v.jsx)("tr",Object(S.a)(Object(S.a)({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e){return Object(v.jsxs)("th",Object(S.a)(Object(S.a)({},e.getHeaderProps(e.getSortByToggleProps())),{},{children:[e.render("Header"),Object(v.jsx)("span",{className:"pull-right",children:e.canSort?e.isSorted?e.isSortedDesc?Object(v.jsx)(N.a,{glyph:"sort-by-attributes-alt"}):Object(v.jsx)(N.a,{glyph:"sort-by-attributes"}):Object(v.jsx)(N.a,{glyph:"sort"}):""})]}))}))}))})),O.map((function(e){return Object(v.jsx)("tr",Object(S.a)(Object(S.a)({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e){return Object(v.jsx)("th",Object(S.a)(Object(S.a)({},e.getHeaderProps()),{},{children:Object(v.jsx)("div",{children:e.canFilter?e.render("Filter"):null})}))}))}))}))]})),Object(v.jsx)("tbody",Object(S.a)(Object(S.a)({},x()),{},{children:f.map((function(e,t){g(e);var r=j(e);return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("tr",Object(S.a)(Object(S.a)({},e.getRowProps(r)),{},{children:e.cells.map((function(e){return Object(v.jsx)("td",Object(S.a)(Object(S.a)({style:{verticalAlign:"middle"}},e.getCellProps()),{},{children:e.render("Cell")}))}))})),e.isExpanded&&i({row:e,rowProps:r,visibleColumns:G})]})}))}))]}),Object(v.jsx)("div",{className:"pagination pull-right",children:Object(v.jsxs)(L.a,{children:[Object(v.jsxs)(o.a,{children:[Object(v.jsx)(u.a,{bsStyle:"success",onClick:function(){return B(0)},disabled:!y,children:Object(v.jsx)(N.a,{glyph:"step-backward"})})," ",Object(v.jsx)(u.a,{bsStyle:"success",onClick:function(){return E()},disabled:!y,children:Object(v.jsx)(N.a,{glyph:"triangle-left"})})," ",Object(v.jsx)(u.a,{bsStyle:"success",onClick:function(){return A()},disabled:!w,children:Object(v.jsx)(N.a,{glyph:"triangle-right"})})," ",Object(v.jsx)(u.a,{bsStyle:"success",onClick:function(){return B(k-1)},disabled:!w,children:Object(v.jsx)(N.a,{glyph:"step-forward"})})]}),Object(v.jsxs)(o.a,{children:[Object(v.jsx)(u.a,{active:!0,bsStyle:"success",children:"Page Size:"})," ",Object(v.jsx)(z.a,{id:"pageSizeDropdown",bsStyle:"success",title:Q,onSelect:function(e){V(Number(e))},children:[20,50,100,1e6].map((function(e){return Object(v.jsxs)(R.a,{id:e,eventKey:e,value:e,children:["Show ",e]},e)}))})]})]})}),Object(v.jsx)("div",{className:"pagination pull-left",children:Object(v.jsxs)(o.a,{children:[Object(v.jsx)(u.a,{active:!0,bsStyle:"info",children:Object(v.jsx)(v.Fragment,{children:C.length>0?Object(v.jsxs)(v.Fragment,{children:["Page"," ",Object(v.jsxs)("strong",{children:[J+1," of ",C.length]})]}):Object(v.jsxs)(v.Fragment,{children:["Page ",Object(v.jsx)("strong",{children:"- of -"})]})})})," ",r?Object(v.jsx)(F.a,{placement:"bottom",overlay:M({message:"Refreshing Data"}),children:Object(v.jsx)(u.a,{bsStyle:"info",children:Object(v.jsx)(N.a,{className:"glyphicon-refresh-animate",glyph:"refresh"})})}):Object(v.jsx)(F.a,{placement:"bottom",overlay:M({message:"Data Loaded: "+(new Date).toLocaleString()}),children:Object(v.jsx)(u.a,{bsStyle:"info",children:Object(v.jsx)(N.a,{glyph:"ok"})})})]})})]})},G=r(274),I=function(){var e=Object(l.useQuery)(["dashboard"],(function(){return function(){return f.apply(this,arguments)}()})),t=e.isLoading,r=e.error,n=e.data,a=e.isFetching,c=s.a.useMemo((function(){return[{Header:"Character",accessor:"char.name",Filter:A,filter:"text",Cell:function(e){return Object(v.jsx)("div",{children:Object(v.jsxs)(o.a,{style:{display:"flex"},children:[Object(v.jsx)(u.a,{bsStyle:"info",onClick:function(){!function(e){g.apply(this,arguments)}(e.row.original.char.id)},children:Object(v.jsx)("i",{class:"fas fa-external-link-alt"})}),Object(v.jsxs)(u.a,{children:[e.value," "]})]})})}},{Header:"Main",accessor:"main.name",Filter:A,filter:"text",Cell:function(e){return Object(v.jsx)("div",{style:{whiteSpace:"nowrap"},children:e.value})}},{Header:"Corp",accessor:"main.corp",Filter:E,filter:"text",Cell:function(e){return Object(v.jsx)("div",{style:{whiteSpace:"nowrap"},children:e.value})}},{Header:"Alliance",accessor:"main.alli",Filter:E,filter:"text",Cell:function(e){return Object(v.jsx)("div",{style:{whiteSpace:"nowrap"},children:e.value})}},{Header:"Location",accessor:"location.name",Filter:E,filter:"text",Cell:function(e){return Object(v.jsx)("div",{style:{whiteSpace:"nowrap"},children:e.value})}},{Header:"Ship",accessor:"ship.name",Filter:E,filter:"text",Cell:function(e){return Object(v.jsx)("div",{style:{whiteSpace:"nowrap"},children:e.value})}},{Header:"Death Clone",accessor:"death_clone.name",Filter:E,filter:"text",Cell:function(e){return Object(v.jsx)("div",{style:{whiteSpace:"nowrap"},children:e.value})}},{Header:"Last Online",accessor:"logoff_date",Cell:function(e){return Object(v.jsx)("div",{style:{whiteSpace:"nowrap"},children:e.value?Object(v.jsx)(G.a,{date:Date.parse(e.value)}):Object(v.jsx)(v.Fragment,{})})}},{Header:"Join Date",accessor:"start_date",Cell:function(e){return Object(v.jsx)("div",{style:{whiteSpace:"nowrap"},children:e.value?Object(v.jsx)(G.a,{date:Date.parse(e.value)}):Object(v.jsx)(v.Fragment,{})})}}]}),[]);return t?Object(v.jsx)(y,{}):r?Object(v.jsx)(D,{}):Object(v.jsx)(j.a.Body,{children:Object(v.jsx)(V,{isLoading:t,data:n,columns:c,error:r,isFetching:a})})};r(260);n.a.addDefaultLocale(a);var J=new l.QueryClient,Q=function(){return Object(v.jsx)(l.QueryClientProvider,{client:J,children:Object(v.jsx)(I,{})})},X=document.getElementById("root");Object(i.render)(Object(v.jsx)(Q,{}),X)}},[[261,1,2]]]);
//# sourceMappingURL=main.961d2fd8.chunk.js.map
